<!DOCTYPE html>
<html>
<head>
  <title>Discussion Forum</title>
  <style>
    body {
      font-family: sans-serif;
    }
    
    header {
      background-color: #333;
      color: white;
      padding: 10px;
    }
    
    h1 {
      margin: 0;
    }
    
    main {
      max-width: 800px;
      margin: 0 auto;
      padding: 10px;
    }
    
    form {
      margin-bottom: 20px;
    }
    
    label {
      display: block;
      margin-bottom: 5px;
      padding: 10px
    }
    
    input[type="text"],
    textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      resize: none;
    }
    
    button[type="submit"] {
      background-color: #333;
      color: white;
      padding: 10px 30px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    
    button[type="submit"]:hover {
      background-color: #444;
    }
    
    article {
      margin-bottom: 20px;
      border: 1px solid #ccc;
      border-radius: 4px;
      padding: 10px;
      background:grey;
    }
    
    delete-button {
      background-color: red;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
    }
    </style>
</head>
<body>
  <header>
    <h1>Discussion Forum</h1>
  </header>
  <main>
    <form id="post-form">
      <h2>New Post</h2>
      <label for="post-title">Title:</label>
      <input type="text" id="post-title" name="post-title" required>
      <label for="post-content">Content:</label>
      <textarea id="post-content" name="post-content" required></textarea>
      <h2><button type="submit">Post</button></h2>
     </form>
    <section id="post-list">
     
      <h2>Posts</h2>
  </main>

<script>
const postForm = document.getElementById('post-form');
const postList = document.getElementById('post-list');

postForm.addEventListener('submit', event => {
  event.preventDefault();
  const title = event.target.elements['post-title'].value;
  const content = event.target.elements['post-content'].value;
  const post = createPost(title, content);
  postList.appendChild(post);
  postForm.reset();
});

function createPost(title, content) {
  const article = document.createElement('article');
  const titleElement = document.createElement('h3');
  const contentElement = document.createElement('p');
  titleElement.textContent = title;
  contentElement.textContent = content;
  article.appendChild(titleElement);
  article.appendChild(contentElement);
  return article;
}


const deleteButtons = document.querySelectorAll('.delete-button');
deleteButtons.forEach(button => {
  button.addEventListener('click', () => {
    const postId = button.dataset.postId;
    fetch(`/posts/${postId}`, { method: 'DELETE' })
      .then(response => {
        if (response.ok) {
          // reload the page or remove the deleted post from the DOM
        } else {
          // handle error
        }
      });
  });
});
</script>
</body>
</html>
